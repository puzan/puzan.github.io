<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Puzan's Pages</title><link href="http://puzan.info/" rel="alternate"></link><link href="http://puzan.info/feeds/tag/gentoo.atom.xml" rel="self"></link><id>http://puzan.info/</id><updated>2013-06-04T00:00:00+04:00</updated><entry><title>Gems и другие пакетные менеджеры</title><link href="http://puzan.info/linux/2013-06-04-gems-i-drugie-paketnye-menedzhery.html" rel="alternate"></link><published>2013-06-04T00:00:00+04:00</published><author><name>Ilya Zonov</name></author><id>tag:puzan.info,2013-06-04:linux/2013-06-04-gems-i-drugie-paketnye-menedzhery.html</id><summary type="html">&lt;p&gt;Только  недавно  столкнулся и  попробовал  использовать  &lt;em&gt;rubygems&lt;/em&gt;.  Ранее  все
устанавливал через &lt;em&gt;portage&lt;/em&gt;.   Но частенько стали попадаться  статьи, в которых
пишут нечто вроде следующего:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;gem install git-up
gem install bundle
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Это  добро у  меня вызывало,  некоторое недоумение  (что еще  за левые  пакетные
менеджеры???)   и  я бежал  искать  аналоги  в  &lt;em&gt;portage&lt;/em&gt;.  Частенько  этого  не
находилось даже в различных &lt;em&gt;overlay&lt;/em&gt;'ях.  И вот в один из таких моментов, решив
сэкономить время на поиск &lt;em&gt;ebuild&lt;/em&gt;'ов,  я все-таки выполнил указанную команду. И
получил необходимое приложение в &lt;code&gt;~/.gem/ruby/1.9.1/bin&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Но  тут  пользователи  &lt;em&gt;gentoo&lt;/em&gt;  столкнуться  с  некоторым  затруднением.   Этот
дистрибутив  не очень  дружелюбен для  &lt;em&gt;ruby&lt;/em&gt;.   То, что  установится, не  будет
доступно в  &lt;code&gt;PATH&lt;/code&gt;.  В  других используемых  мной системах  аналогичной проблемы
замечено не было. В &lt;em&gt;OS X&lt;/em&gt;  и &lt;em&gt;Windows&lt;/em&gt; (&lt;em&gt;Cygwin&lt;/em&gt;) &lt;code&gt;PATH&lt;/code&gt; сам без дополнительных
движений обновляется.&lt;/p&gt;
&lt;p&gt;На  &lt;a href="https://bugs.gentoo.org/show_bug.cgi?id=403157"&gt;bugs.gentoo.org&lt;/a&gt; нашел  следующее  универсальное  решение.  Создаем  в
папке &lt;code&gt;/etc/profile&lt;/code&gt; файл следующего содержания:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[[&lt;/span&gt; -L &lt;span class="s2"&gt;&amp;quot;/usr/bin/ruby&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
    &lt;span class="nv"&gt;RUBY&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;readlink /usr/bin/ruby 2&amp;gt; /dev/null&lt;span class="k"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;RUBY&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; in
        *18&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nv"&gt;VERSION&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1.8&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;;;&lt;/span&gt;
        *19&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nv"&gt;VERSION&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1.9.1&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;;;&lt;/span&gt;
          *&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nv"&gt;VERSION&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;RUBY&lt;/span&gt;&lt;span class="p"&gt;##*/&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;;;&lt;/span&gt;
    &lt;span class="k"&gt;esac&lt;/span&gt;

    &lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;HOME&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;/.gem/ruby/&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;VERSION&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;/bin:&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;После этого все будет доступно как надо.&lt;/p&gt;
&lt;p&gt;Похоже   использовать   &lt;em&gt;gem&lt;/em&gt;   намного  удобнее,   чем   стандартный   пакетный
менеджер. Тем более  на своей локальной машине с  фактически одним пользователем
(root не считается).   Конечно можно добавлять себе постоянно  новые &lt;em&gt;overlay&lt;/em&gt; и
писать новые  &lt;em&gt;ebuild&lt;/em&gt;.  Но как  показала моя практика это  занимает существенно
больше  времени.   Да  и  кроме  того написание  однотипных  &lt;em&gt;ebuild&lt;/em&gt;  не  особо
интересное занятие.  Генератора нету случаем?  Не знаю как дело обстоит в других
дистрибутивах, но думаю как-то также.&lt;/p&gt;
&lt;p&gt;Еще в последнее  время натолкнулся на &lt;em&gt;pip&lt;/em&gt; для &lt;em&gt;python&lt;/em&gt;  и &lt;em&gt;npm&lt;/em&gt; для &lt;em&gt;node.js&lt;/em&gt;.
Идея общественных  хранилищ для программ,  написанных на определенном  языке как
никак популярна сейчас. И это реально удобно.&lt;/p&gt;</summary><category term="ruby"></category><category term="gem"></category><category term="python"></category><category term="pip"></category><category term="gentoo"></category></entry><entry><title>Личный Firefox Sync</title><link href="http://puzan.info/linux/2013-06-03-lichnyi-firefox-sync.html" rel="alternate"></link><published>2013-06-03T00:00:00+04:00</published><author><name>Ilya Zonov</name></author><id>tag:puzan.info,2013-06-03:linux/2013-06-03-lichnyi-firefox-sync.html</id><summary type="html">&lt;p&gt;Для синхронизации браузерной  информации я использую &lt;em&gt;Firefox  Sync&lt;/em&gt;.  Но совсем
недавно замучили проблемы синхронизации. Постоянно появлялась ошибка, что сервер
не доступен, хотя  на сайте &lt;a href="https://services.mozilla.com/status/"&gt;mozilla&lt;/a&gt; не было  сообщений о каких-то
ошибках и неполадках в работе сервиса. Сейчас кстати есть:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The  Firefox  Sync  service  is  undergoing  some  load  issues,  if  you  are
experiencing problems  please wait and  try again soon.  We are working  on it
presently.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Помучившись так  недельку, я решил поднять  личный Firefox Sync сервер  на своем
псевдо сервере. Быстренько нашел &lt;a href="http://gpo.zugaina.org/Search?search=mozilla-sync-server"&gt;ebuild'ы&lt;/a&gt;  для &lt;em&gt;gentoo&lt;/em&gt;.  И, вуа-ля, у
меня рабочий  сервер для синхронизации. Еще  я написал &lt;em&gt;init&lt;/em&gt; скрипты  и выложил
свой &lt;a href="https://github.com/puzan/puzan-overlay"&gt;overlay  на github&lt;/a&gt;.  Если  кому-то нужно —  пользуйтесь на
здоровье.&lt;/p&gt;
&lt;p&gt;Плюсы которые обнаружил во время использования личного Firefox Sync сервера:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Нет проблем с  доступом, точнее их я  могу решить сам.  Более того,  так как я
  единственный пользователь своего сервера, то  нет проблем с загруженностью.  А
  вот доступной  поддержки для  Firefox Sync  не нашел.   Признаюсь не  сильно и
  искал.&lt;/li&gt;
&lt;li&gt;Фактически  нет  ограничения  на  размер  хранимых  данных.  Стандартный  5-ти
  мегабайтный предел я умудрился превысить.&lt;/li&gt;
&lt;/ul&gt;</summary><category term="firefox"></category><category term="gentoo"></category><category term="portage"></category><category term="ebuild"></category></entry><entry><title>Infinality патчи на стабильной ветке</title><link href="http://puzan.info/linux/2013-02-12-infinality-patchi-na-stabilnoi-vetke.html" rel="alternate"></link><published>2013-02-12T00:00:00+04:00</published><author><name>Ilya Zonov</name></author><id>tag:puzan.info,2013-02-12:linux/2013-02-12-infinality-patchi-na-stabilnoi-vetke.html</id><summary type="html">&lt;p&gt;Как-то  я пропустил  тот  факт,  что похоже  уже  давно &lt;a href="http://www.infinality.net/blog/"&gt;infinality&lt;/a&gt;  патчи
находятся  на  стабильной  ветке  в  gentoo portage.   До  этого  ставил  их  из
&lt;a href="http://gitorious.org/lcd-filtering"&gt;lcd-filtering&lt;/a&gt;.   Теперь все  намного  &lt;a href="http://od-eon.com/blogs/stefan/improving-the-font-rendering-on-gentoo-infinality/"&gt;проще&lt;/a&gt;.  Добавляем  USE-флаг
&lt;code&gt;infinality&lt;/code&gt; в &lt;code&gt;make.conf&lt;/code&gt; и пересобираем &lt;em&gt;freetype&lt;/em&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emerge -1q freetype
eselect fontconfig enable 52-infinality.conf
eselect infinality set infinality
eselect lcdfilter set infinality
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Как видим теперь необходимо несколько раз дополнительно запустить &lt;code&gt;eselect&lt;/code&gt;. При
этом   вариантов  для   выбора  &lt;code&gt;eselect   infinality&lt;/code&gt;  и   &lt;code&gt;eselect  lcdfilter&lt;/code&gt;
предоставляют многовато.   Я с  ними не  экспериментировал.  Если  кто пробовал,
поделитесь впечатлениями.&lt;/p&gt;</summary><category term="gentoo"></category><category term="infinality"></category><category term="fonts"></category></entry></feed>