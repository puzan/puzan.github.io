<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Puzan's Pages</title><link href="http://puzan.info/" rel="alternate"></link><link href="http://puzan.info/feeds/tag/mac.atom.xml" rel="self"></link><id>http://puzan.info/</id><updated>2015-03-15T10:48:45+03:00</updated><entry><title>Полоса загрузки в OS X</title><link href="http://puzan.info/misc/2015-03-15-polosa-zagruzki-v-os-x.html" rel="alternate"></link><published>2015-03-15T10:48:45+03:00</published><author><name>Ilya Zonov</name></author><id>tag:puzan.info,2015-03-15:misc/2015-03-15-polosa-zagruzki-v-os-x.html</id><summary type="html">&lt;p&gt;Одно  из  чудовищных нововведений  &lt;em&gt;Yosemite&lt;/em&gt;  —  это полоса  загрузки.   Звучит
немного громко,  но все же &lt;em&gt;Apple&lt;/em&gt;  всегда славилась своим вниманием  к мелочам,
особенно в дизайне. И вот эта полоска стопудово лишняя.&lt;/p&gt;
&lt;p&gt;Когда я впервые включил свой &lt;em&gt;MacBook&lt;/em&gt;,  это был вау эффект. Он просто включился
и  проиграл  «Таааам» (этот  звук  еще  использовался в  &lt;a href="http://en.wikipedia.org/wiki/WALL-E"&gt;&lt;em&gt;WALL-E&lt;/em&gt;&lt;/a&gt;  для
имформирования о его полной зарядки).  Это  было чудовищно быстро по сравнению с
тем, чем я пользовался до этого (&lt;em&gt;Gentoo&lt;/em&gt;).  Экран просто включался и через пару
секунд можно вводить пароль от аккаунта.  По идее, некоторые задержки можно было
заметить, но все  было такое плавное и воздушное (&lt;em&gt;Air&lt;/em&gt;'ом  долго пользовался :)
).&lt;/p&gt;
&lt;p&gt;С приходом  полосы загрузки, я подумал:  «Вот блин, снова &lt;em&gt;Windows&lt;/em&gt;».   Там ведь
была подобная  полоса загрузки? Если  раньше особо не замечал,  сколько грузится
&lt;em&gt;Mac&lt;/em&gt;, то теперь это просто видно  по полосе загрузки.  При этом она заполняется
не  плавно,  а рывками.   Ощущения  сомнительные.   Одно хорошо:  видишь  данную
полоску редко,  так как  перезагрузка бывает  необходима только  после некоторых
системных обновлений.&lt;/p&gt;
&lt;p&gt;Когда-то давно  я настраивал подобную полосу  загрузки в &lt;em&gt;Gentoo&lt;/em&gt;.  Но  там была
совсем другая  ситуация. Я явно  хотел видеть  статус загрузки: не  произошло ли
какого  сбоя и  долго  ли  еще ждать.   Кроме-того  развлекался с  оптимизациями
загрузки системы и опять же визуализация этого процесса была необходима.&lt;/p&gt;
&lt;p&gt;Сейчас  же от  системы я  привык  получать минимальный  отклик. После  включения
ноутбука   я    сразу   хочу   иметь    доступ   ко   всему    функционалу   без
промедлений. Требования высоки,  &lt;em&gt;Apple&lt;/em&gt; сами себя загоняют в  жесткие рамки. Но
вот  реализация  как  известно  у  программных  продуктов  яблочной  компании  в
последнее  время подхрамывает.   Судя по  всему они  берут курс  на стабилизацию
системы. И это не  может не радовать. Будем надеятся, что  &lt;em&gt;OS X&lt;/em&gt; будет грузится
так быстро, что полоса загрузки точно не понадобится.&lt;/p&gt;</summary><category term="os x"></category><category term="apple"></category><category term="mac"></category></entry><entry><title>Приятности от Apple</title><link href="http://puzan.info/misc/2014-09-04-priiatnosti-ot-apple.html" rel="alternate"></link><published>2014-09-04T00:00:00+04:00</published><author><name>Ilya Zonov</name></author><id>tag:puzan.info,2014-09-04:misc/2014-09-04-priiatnosti-ot-apple.html</id><summary type="html">&lt;p&gt;На днях случайно обнаружил приятную фичу  от &lt;em&gt;Apple&lt;/em&gt;.  Точнее сказать со второго
раза понял,  что это действительно  фича, а не мой  глюк.  Речь идет  о передаче
&lt;em&gt;Wifi&lt;/em&gt; паролей  между &lt;em&gt;Apple&lt;/em&gt;  девайсами.  Судя по  всему информация  хранится в
&lt;em&gt;icloud'&lt;/em&gt;е и привязана к соответствующему &lt;em&gt;AppleID&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;В первый раз я заметил что-то странное, когда поставил домой новую &lt;em&gt;Wifi&lt;/em&gt; точку.
Отчетливо помню  как подключил &lt;em&gt;MacBook  Air&lt;/em&gt; и  &lt;em&gt;iPhone&lt;/em&gt;.  А вот  как подключал
&lt;em&gt;iPad&lt;/em&gt; не помню,  но он оказался подключенным.  Я решил  списать данное действие
на дырьковатую память, но как оказалось память у меня еще о-го-го.&lt;/p&gt;
&lt;p&gt;Собственно вчера  подключил ноутбук к точке  на новой работе и  вуа-ля! &lt;em&gt;iPhone&lt;/em&gt;
тут как  тут: тянет  данный через &lt;em&gt;Wifi&lt;/em&gt;,  а не через  &lt;em&gt;3G&lt;/em&gt;.  Приятно  и удобно.
&lt;em&gt;Apple&lt;/em&gt; действительно умеет удивлять в мелочах.&lt;/p&gt;
&lt;p&gt;Не  очень  давно  в &lt;em&gt;Радио-Т&lt;/em&gt;  &lt;em&gt;Бобук&lt;/em&gt;  говорил  о  том,  что &lt;em&gt;Wifi&lt;/em&gt;  пароли  не
сохраняются при  переходе на новое устройство  (&lt;em&gt;iPhone 4&lt;/em&gt; -&amp;gt; &lt;em&gt;iPhone  5s&lt;/em&gt;). Там
еще речь шла про бекапы мобильных устройств. Но похоже все должно работать после
привязки нового девайса к вашему  &lt;em&gt;AppleID&lt;/em&gt;.  В общем надо будет протестировать,
когда созрею на новый телефон.&lt;/p&gt;
&lt;p&gt;Интересно, как дела обстоят у конкурентов?  Видимо у &lt;em&gt;Microsoft&lt;/em&gt; может быть тоже
подобное решение с их унифицированной операционной системой на всех устройствах.
Хотя сомнительно -  не в их стиле.   У &lt;em&gt;Google&lt;/em&gt; тоже подобное  возможно.  Но кто
нынче пользуется &lt;em&gt;Chrome  OS&lt;/em&gt;? Какие еще варианты? Может  приложения или сервисы
какие-нибудь хитрые есть?&lt;/p&gt;</summary><category term="apple"></category><category term="mac"></category></entry><entry><title>VirtualBox проблемы с Bridged network через Wifi на Mac</title><link href="http://puzan.info/linux/2014-05-08-virtualbox-problemy-s-bridged-network-cherez-wifi-na-mac.html" rel="alternate"></link><published>2014-05-08T00:00:00+04:00</published><author><name>Ilya Zonov</name></author><id>tag:puzan.info,2014-05-08:linux/2014-05-08-virtualbox-problemy-s-bridged-network-cherez-wifi-na-mac.html</id><summary type="html">&lt;p&gt;На днях  столкнулся с проблемой настройки  сети в &lt;em&gt;VirtualBox&lt;/em&gt; на  &lt;em&gt;MacBook&lt;/em&gt;.  В
качестве гостевой системы пробовал &lt;em&gt;Gentoo&lt;/em&gt; и &lt;em&gt;CentOS&lt;/em&gt; (от &lt;em&gt;Puppet&lt;/em&gt;).  Ноутбук у
меня  естественно  подключен  к  сети  через  &lt;em&gt;Wifi&lt;/em&gt;.   После  некоторых  опытов
выяснилось, что Bridged Network не работает. Точнее говоря виртуалка не получает
&lt;code&gt;DHCPOFFER&lt;/code&gt; от dhcp сервера. Вот логи с сервера:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;May  6 21:03:41 edi dnsmasq-dhcp[9996]: DHCPDISCOVER(enp1s0) 10.0.2.15 08:00:27:af:18:1e 
May  6 21:03:41 edi dnsmasq-dhcp[9996]: DHCPOFFER(enp1s0) 192.168.0.209 08:00:27:af:18:1e 
May  6 21:03:45 edi dnsmasq-dhcp[9996]: DHCPDISCOVER(enp1s0) 10.0.2.15 08:00:27:af:18:1e 
May  6 21:03:45 edi dnsmasq-dhcp[9996]: DHCPOFFER(enp1s0) 192.168.0.209 08:00:27:af:18:1e 
May  6 21:03:57 edi dnsmasq-dhcp[9996]: DHCPDISCOVER(enp1s0) 10.0.2.15 08:00:27:af:18:1e 
May  6 21:03:57 edi dnsmasq-dhcp[9996]: DHCPOFFER(enp1s0) 192.168.0.209 08:00:27:af:18:1e
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;И то что  видно в виртуалке (время немного  не то, но это не  страшно: логи были
такие же):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;May  6 21:56:32 learn dhclient[3262]: DHCPDISCOVER on eth1 to 255.255.255.255 port 67 interval 15 (xid=0x3a4517ed)
May  6 21:56:47 learn dhclient[3262]: DHCPDISCOVER on eth1 to 255.255.255.255 port 67 interval 8 (xid=0x3a4517ed)
May  6 21:56:55 learn dhclient[3262]: DHCPDISCOVER on eth1 to 255.255.255.255 port 67 interval 14 (xid=0x3a4517ed)
May  6 21:57:09 learn dhclient[3262]: DHCPDISCOVER on eth1 to 255.255.255.255 port 67 interval 1 (xid=0x3a4517ed)
May 6 21:57:10 learn dhclient[3262]: No DHCPOFFERS received.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Соответственно этот &lt;code&gt;DHCPOFFER&lt;/code&gt; где-то и теряется.  Пока еще не искал конкретное
место потери  этого сообщения.  Постараюсь  на днях поснифить  трафик. Возможно,
что &lt;em&gt;Wifi&lt;/em&gt;  точка от &lt;em&gt;D-Link&lt;/em&gt; не  пускает через себя часть  DHCP запросов.  Если
кто  сталкивался с  подобной проблемой  и нашел  путь настроить  Bridged Network
через &lt;em&gt;Wifi&lt;/em&gt; на &lt;em&gt;Маке&lt;/em&gt; милости прошу в комментарии.&lt;/p&gt;
&lt;p&gt;Хочу заметить, что все отлично  работает если &lt;em&gt;Mac&lt;/em&gt; подключать через &lt;em&gt;Ethernet&lt;/em&gt;.
Также  нашел   &lt;a href="https://www.virtualbox.org/ticket/10019"&gt;багрепорт&lt;/a&gt;  2-х  летней
давности на подобную  ошибку. И еще где-то полгода  назад настраивал аналогичное
дело, но вроде бы (могу ошибаться) подобных проблем с сетью не было.&lt;/p&gt;
&lt;p&gt;Сам нашел  для себя  следующий обходной  путь.  Добавил  2 сетевых  адаптера для
виртуалки.  Первый настроил через &lt;em&gt;NAT&lt;/em&gt; (для доступа к интернету).  Второй через
Host-only  Adapter  (для  &lt;em&gt;SSH&lt;/em&gt;  из  внешней  системы).   Соответственно  первая
сетевуха внутри  виртуалки нормально  поднимается через dhcp.  А вот  для второй
надо указать  статический ip.  Пробовал  использовать dhcp сервер  для Host-only
сети (галочка в настойках соответствующей сети в VirtualBox), но ip так и не был
получен.  В принципе мне достаточно пока  статического адреса, но все же было бы
удобнее получать его автоматом.&lt;/p&gt;
&lt;p&gt;Какое  решение тут  будет  самым  оптимальным? Есть  подозрение,  что моя  схема
несколько избыточна. Для  меня достаточно иметь SSH доступ к  гостевой системе и
чтобы она имела доступ в интернет.&lt;/p&gt;</summary><category term="mac"></category><category term="virtualbox"></category></entry><entry><title>Git + кириллические имена файлов на OS X</title><link href="http://puzan.info/linux/2013-05-24-git-kirillicheskie-imena-failov-na-os-x.html" rel="alternate"></link><published>2013-05-24T00:00:00+04:00</published><author><name>Ilya Zonov</name></author><id>tag:puzan.info,2013-05-24:linux/2013-05-24-git-kirillicheskie-imena-failov-na-os-x.html</id><summary type="html">&lt;p&gt;Не ожидал,  что в  мире современного  ПО могут быть  проблемы с  &lt;em&gt;Unicode&lt;/em&gt;.  Мне
казалось,   что  все   неприятности   с  кодировками   закончились  с   приходом
&lt;em&gt;Unicode&lt;/em&gt;'а. Давно  по крайней мере  с ними  не встречался.  Но,  как оказалось,
&lt;em&gt;git&lt;/em&gt; несколько некорректно работает с русскими именами файлов на &lt;em&gt;Mac&lt;/em&gt;'е.&lt;/p&gt;
&lt;p&gt;Есть у  меня репозиторий, в  котором я храню все  свои заметки. Половина  из них
была написана в &lt;a href="http://mwolson.org/projects/EmacsMuse.html"&gt;muse-mode&lt;/a&gt;, остальное в &lt;a href="http://daringfireball.net/projects/markdown/syntax"&gt;Markdown&lt;/a&gt;.  Соответственно
имена  файлов  с  текстом  содержат заголовки,  содержащие  кириллицу.  Мне  так
удобнее. Ранее с таким подходом ни разу проблем не встречал.&lt;/p&gt;
&lt;p&gt;И вот проблема на &lt;em&gt;Mac&lt;/em&gt;'е. Все  русские буквы в выводе &lt;code&gt;git status&lt;/code&gt; отображаются
в  восьмеричном виде.   И более  того все  файлы содержащие  в именах  кириллицу
помечаются как &lt;em&gt;untracked&lt;/em&gt;. Пример:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ izonov:text izonov$ git status
# On branch master
# Your branch is ahead of &amp;#39;origin/master&amp;#39; by 1 commit.
#   (use &amp;quot;git push&amp;quot; to publish your local commits)
#
# Changes not staged for commit:
#   (use &amp;quot;git add &amp;lt;file&amp;gt;...&amp;quot; to update what will be committed)
#   (use &amp;quot;git checkout -- &amp;lt;file&amp;gt;...&amp;quot; to discard changes in working directory)
#
#   modified:   &amp;quot;linux/2013-05-24 - Git + \320\272\320\270\321\200\320\270\320\273\320\273\320\270\321\207\320\265\321\201\320\272\320\270\320\265 \320\270\320\274\320\265\320\275\320\260 \321\204\320\260\320\271\320\273\320\276\320\262 \320\275\320\260 OS X.md&amp;quot;
#
# Untracked files:
#   (use &amp;quot;git add &amp;lt;file&amp;gt;...&amp;quot; to include in what will be committed)
#
#   &amp;quot;linux/2013-05-24 - Git + \320\272\320\270\321\200\320\270\320\273\320\273\320\270\321\207\320\265\321\201\320\272\320\270\320\265 \320\270\320\274\320\265\320\275\320\260 \321\204\320\260\320\270\314\206\320\273\320\276\320\262 \320\275\320\260 OS X.md&amp;quot;
#   .....
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Вторая проблема  (&lt;em&gt;untracked&lt;/em&gt; файлы)  решается достаточно легко.   Подсмотрено в
&lt;a href="http://stackoverflow.com/questions/5581857/git-and-the-umlaut-problem-on-mac-os-x"&gt;вопросе на Stackoverflow&lt;/a&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git config --global core.precomposeunicode true
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;После этого видим следующее:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ izonov:text izonov$ git status
# On branch master
# Your branch is ahead of &amp;#39;origin/master&amp;#39; by 1 commit.
#   (use &amp;quot;git push&amp;quot; to publish your local commits)
#
# Changes not staged for commit:
#   (use &amp;quot;git add &amp;lt;file&amp;gt;...&amp;quot; to update what will be committed)
#   (use &amp;quot;git checkout -- &amp;lt;file&amp;gt;...&amp;quot; to discard changes in working directory)
#
#   modified:   &amp;quot;linux/2013-05-24 - Git + \320\272\320\270\321\200\320\270\320\273\320\273\320\270\321\207\320\265\321\201\320\272\320\270\320\265 \320\270\320\274\320\265\320\275\320\260 \321\204\320\260\320\271\320\273\320\276\320\262 \320\275\320\260 OS X.md&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Решения  отображения русских  букв в  &lt;code&gt;git  status&lt;/code&gt; я  не нашел.   Кириллические
символы в именах новых и измененных файлов все равно отображаются в восьмеричном
виде. Как вариант можно использовать &lt;code&gt;git  add -i&lt;/code&gt;. Там все символы отображаются
в привычном виде.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;P.S.  [2013-05-28]&lt;/strong&gt;:  Вчера  &lt;em&gt;Konstantin  Khomoutov&lt;/em&gt;  подсказал,  как  решить
проблему отображения русских букв в &lt;em&gt;git&lt;/em&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git config --global core.quotepath false
&lt;/pre&gt;&lt;/div&gt;</summary><category term="git"></category><category term="mac"></category></entry><entry><title>Macbook Air, блог и bash crash</title><link href="http://puzan.info/linux/2013-05-21-macbook-air-blog-i-bash-crash.html" rel="alternate"></link><published>2013-05-21T00:00:00+04:00</published><author><name>Ilya Zonov</name></author><id>tag:puzan.info,2013-05-21:linux/2013-05-21-macbook-air-blog-i-bash-crash.html</id><summary type="html">&lt;p&gt;Со вчерашнего дня решил писать по записи  в день в данный блог, но умудрился уже
проштрафиться. Просто напросто  не успел. Этот план  направлен на структуризацию
своих мыслей.  Хочу  лучше понимать куда стремиться и  чем лучше интересоваться,
заниматься. Кроме того довольно часто начал сталкиваться с различными вопросами,
решения которых не  получается с первого раза найти в  &lt;em&gt;google&lt;/em&gt; (искать наверное
разучился). Буду выносить все это дело в виде постов сюда. Постараюсь чтобы сюда
попадали  исключительно околотехнические  темы.  Остальное  в &lt;a href="https://plus.google.com/100903917371621392768/posts"&gt;Google+&lt;/a&gt;  или
&lt;a href="https://twitter.com/puzan"&gt;Twitter&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Итак начну  с того, что любимая  девушка подарила мне на  день рождение &lt;em&gt;MacBook
Air&lt;/em&gt;. Поэтому с этого момента на данном блоге будут появляться посты посвященные
и данному замечательному устройству, а также  &lt;em&gt;OS X&lt;/em&gt; (название блога видимо надо
немного поменять). Все они будут помечены с помощью тега &lt;a href="http://puzan-linux.blogspot.ru/search/label/mac"&gt;&lt;em&gt;mac&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;На  Mac'е как  раз и  столкнулся с  одной неприятной  мелкой проблемой,  которая
несколько меня раздражает, но  на данный момент я не знаю,  как ее решить. Сразу
же при  получении этого девайся  я начал устанавливать привычное  мне консольное
окружение. Для этого я использовал &lt;a href="http://www.macports.org/"&gt;macports&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Настроил  git completion  и prompt,  используя скрипты  из git-core  порта. Были
установлены следующие версии портов:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;bash 4.2.42_0&lt;/li&gt;
&lt;li&gt;bash-completion 2.0_1&lt;/li&gt;
&lt;li&gt;git-core 1.8.2.3_0&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;И теперь,  время от времени  после выхода из свящего  режима, bash падает  вот с
такой ошибкой:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;-bash(23573,0x7fff75972180) malloc: *** error for object 0x7fb1cb40c530: pointer being freed was not allocated
*** set a breakpoint in malloc_error_break to debug
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;При этом  я не  совсем уверен,  что эта ошибка  связана с  &lt;em&gt;bash-completion&lt;/em&gt; или
&lt;em&gt;git&lt;/em&gt;.  Буду  искать решение, но отказываться  от completion и prompt  совсем не
хочется.   Думаю   попробовать  &lt;em&gt;bash&lt;/em&gt;  из  &lt;a href="http://mxcl.github.io/homebrew/"&gt;homebrew&lt;/a&gt;,   ну  или  ручками
собрать. Какие еще варианты? Куда копать на mac'е?&lt;/p&gt;
&lt;p&gt;PS. Вот и ушло у меня пару часов на написание казалось бы небольшого текста.&lt;/p&gt;
&lt;p&gt;P.S.   [2013-05-25]  &lt;em&gt;bash&lt;/em&gt; все  равно  продолжает  падать даже  с  выключенными
completions и git-prompt. Происходит это стабильно раз в день.&lt;/p&gt;</summary><category term="mac"></category><category term="bash"></category></entry></feed>