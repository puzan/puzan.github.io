Title: Emacs + Java
Tags: emacs, java

Появилась у  меня в последнее  время необходимость основательно  познать *Java*.
Очень долго  не смотрел в  его сторону, были  у меня некоторые  предубеждения. Я
всегда думал,  что *plain  C* и  *Lisp* это  наше все.   И этого  достаточно.  А
сейчас  работа повернулась  стороной  с *Java*  лицом  и соответственно  захотел
быстренько познать его особенности, а  также настроить свой любимый редактор для
удобной работы с этим популярным языком программирования.

Для  каждого языка  программирования в  *Emacs* я  стараюсь настроить  следующие
возможности:

* Подсветка синтаксиса (есть из коробки)
* Авто дополнения (желательно через auto-complete)
* Навигация по коду
* Работа с проектами (опционально, люблю работать в консоли вне Emacs)
* REPL (также опционально, но очень помогает во время обучения)

Из коробки в `java-mode` фактически  работает только подсветка синтаксиса. Cedet
идущий с  Emacs'ом также позваляет  настроить автодополнения и  навигацию внутри
классов.  Но  вот, например,  системные вещи  наотрез отказывается  предлагать в
качестве дополнений.

В общем  я решил  посмотреть, какие сейчас  есть удобств для  работы с  *Java* в
*Emacs*. При этом я наткнулся на следующие вещи:

* [JDEE][jdee]
* [malabar-mode][malabar]
* [Eclime for Emacs][eclime]
* [Auto Java Complete][auto]
* CEDET Developer Version ([Bazaar repo][cedet])

Немного впечатлений о каждом расширении. Все  пробовал на *MacBook Air*, *OS X*,
*Emacs 24.3.1* из [MacPorts][port].

## JDEE

Старое и  похоже переставшее развиваться  расширение. Сразу не  понравилось, что
тянет с  собой свою цветовую  схему.  Мелочи, но  они всегда бросаются  в глаза.
Также  *JDEE* каким-то  образом  умудряется  нарушить работу  `whitespace-mode`,
который перестает подсвечивать вообще что-либо.  Данную проблему решить не смог.
Есть у меня подозрение, что это  связано с перекрашиванием буфера, но глубока не
капал  за ненадобностью.   Нечто похожее  сейчас  есть в  `markdown-mode`. Ну  и
каких-то особых возможностей здесь не  нашел.  Все плюшки сделаны через *Cedet*,
соответственно их можно получить и без *JDEE*.

## Malabar-mode

Завязан   на   *Maven*,   про   который  ранее   слышал   совсем   чуть-чуть   и
отдаленно. Быстренько глянул,  как работать с этим  менеджером проектов.  Создал
тестовый проект, но производительность  `malabar-mode` вообще не порадовала.  Он
как  я понял  использует *Groovy*  console  для формирования  дополнений. И  это
похоже   порой  не   быстрый  процесс.    В   общем  от   этого  варианта   тоже
отказался.   Кроме  того   проект  также   загибается.  Хотя   в  знакомстве   с
`malabar-mode` есть свой плюс: я узнал что такое *Maven* и как с ним работать.

## Eclime

Вот это вообще монстр.  Идея затащить в *Emacs* (изначально в *Vim*) функционал *Eclipse* через некий
интерфейс тоже  на деле  оказывается не шибко  производительна. В  данном случае
*eclime*  запускает *Eclipse*  на  заднем плане  и общается  с  ним, чтобы  получить
автодополнения  и еще  некоторый функционал  (рефакторинг, навигация  по коду  и
т.п.). Скорость отзывчивости данной системы еще меньше, чем у *Malabar*.

## Auto Java Complete

Смысл данного расширения прост:  сгенерировать теги необходимых *Java* библиотек
и предоставить интерфейс для  `auto-complete`. Я попробовал использовать готовые
теги  и это  работает достаточно  быстро  и удобно.  Но тут  мы получаем  только
информацию  системных библиотек  и того  что сами  укажем ручками  при генерации
тегов.  В  принципе в связке со  стандартным *Cedet* идущим с  *Emacs*'ом должно
всего этого хватить.

## Cedet Dev

Самый  удобный,  как мне  кажется,  вариант  это использовать  последнюю  версию
*Cedet*  из  *Bazaar* репозитория.   Тут  сейчас  *Java* хорошо  поддерживается.
*Maven*  проекты кстати  тоже  отлично воспринимаются.   По  работе и  настройке
*Cedet* лучше обращаться к [статье Alex Ott'а][alex].

-----

На  данный   момент  я  остановился   на  последнем  варианте:  *Cedet*   Dev  +
`auto-complete`. Есть  у кого  еще предложения  как улучшить  жизнь в  Emacs при
работе с *Java*?  Или все таки *Cedet*  это наше все и смотреть в другие стороны
лучше не стоит?

[cedet]: http://cedet.sourceforge.net/bzr-repo.shtml
[jdee]: http://jdee.sourceforge.net/
[malabar]: https://github.com/buzztaiki/malabar-mode
[eclime]: https://github.com/senny/emacs-eclim/
[auto]: https://github.com/emacs-java/auto-java-complete
[alex]: http://alexott.net/ru/writings/emacs-devenv/EmacsCedet.html
[port]: http://macports.org/
